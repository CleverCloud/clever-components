import{L as n,h as e,c as t}from"./vendor-5e139a4e.js";import{i as r,_ as u,S as o,O as c,o as i,a as s,b as a,c as l,e as f,r as d,f as b,g as h,h as v,j as p,k as m,l as y,m as w,d as x,n as g,u as C}from"./smart-manager-10eab692.js";function E(n){return function(e){if(function(n){return r(null==n?void 0:n.lift)}(e))return e.lift((function(e){try{return n(e,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var _=function(n){function e(e,t,r,u,o){var c=n.call(this,e)||this;return c.onFinalize=o,c._next=t?function(n){try{t(n)}catch(n){e.error(n)}}:n.prototype._next,c._error=u?function(n){try{u(n)}catch(n){e.error(n)}finally{this.unsubscribe()}}:n.prototype._error,c._complete=r?function(){try{r()}catch(n){e.error(n)}finally{this.unsubscribe()}}:n.prototype._complete,c}return u(e,n),e.prototype.unsubscribe=function(){var e,t=this.closed;n.prototype.unsubscribe.call(this),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(o),L=new c((function(n){return n.complete()}));function O(n,e){return new c((function(t){var r=0;return e.schedule((function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())}))}))}var S=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function $(n){return r(null==n?void 0:n.then)}var j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function k(n,e){if(!n)throw new Error("Iterable cannot be null");return new c((function(t){var r=new s;return r.add(e.schedule((function(){var u=n[Symbol.asyncIterator]();r.add(e.schedule((function(){var n=this;u.next().then((function(e){e.done?t.complete():(t.next(e.value),n.schedule())}))})))}))),r}))}function I(n){return r(n[i])}function A(n){return r(null==n?void 0:n[j])}function R(n){return Symbol.asyncIterator&&r(null==n?void 0:n[Symbol.asyncIterator])}function T(n){return new TypeError("You provided "+(null!==n&&"object"==typeof n?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function z(n){return a(this,arguments,(function(){var e,t,r;return l(this,(function(u){switch(u.label){case 0:e=n.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,f(e.read())];case 3:return t=u.sent(),r=t.value,t.done?[4,f(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,f(r)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function F(n){return r(null==n?void 0:n.getReader)}function P(n,e){if(null!=n){if(I(n))return function(n,e){return new c((function(t){var r=new s;return r.add(e.schedule((function(){var u=n[i]();r.add(u.subscribe({next:function(n){r.add(e.schedule((function(){return t.next(n)})))},error:function(n){r.add(e.schedule((function(){return t.error(n)})))},complete:function(){r.add(e.schedule((function(){return t.complete()})))}}))}))),r}))}(n,e);if(S(n))return O(n,e);if($(n))return function(n,e){return new c((function(t){return e.schedule((function(){return n.then((function(n){t.add(e.schedule((function(){t.next(n),t.add(e.schedule((function(){return t.complete()})))})))}),(function(n){t.add(e.schedule((function(){return t.error(n)})))}))}))}))}(n,e);if(R(n))return k(n,e);if(A(n))return function(n,e){return new c((function(t){var u;return t.add(e.schedule((function(){u=n[j](),function(n,e,t,r){void 0===r&&(r=0);var u=e.schedule((function(){try{t.call(this)}catch(e){n.error(e)}}),r);n.add(u)}(t,e,(function(){var n=u.next(),e=n.value;n.done?t.complete():(t.next(e),this.schedule())}))}))),function(){return r(null==u?void 0:u.return)&&u.return()}}))}(n,e);if(F(n))return function(n,e){return k(z(n),e)}(n,e)}throw T(n)}function Y(n,e){return e?P(n,e):U(n)}function U(n){if(n instanceof c)return n;if(null!=n){if(I(n))return u=n,new c((function(n){var e=u[i]();if(r(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(S(n))return Z(n);if($(n))return t=n,new c((function(n){t.then((function(e){n.closed||(n.next(e),n.complete())}),(function(e){return n.error(e)})).then(null,d)}));if(R(n))return q(n);if(A(n))return e=n,new c((function(n){var t,r;try{for(var u=h(e),o=u.next();!o.done;o=u.next()){var c=o.value;if(n.next(c),n.closed)return}}catch(n){t={error:n}}finally{try{o&&!o.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}n.complete()}));if(F(n))return q(z(n))}var e,t,u;throw T(n)}function Z(n){return new c((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}))}function q(n){return new c((function(e){(function(n,e){var t,r,u,o;return b(this,void 0,void 0,(function(){var c,i;return l(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=v(n),s.label=1;case 1:return[4,t.next()];case 2:if((r=s.sent()).done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i=s.sent(),u={error:i},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(n,e).catch((function(n){return e.error(n)}))}))}function B(n,e){return e?O(n,e):Z(n)}function D(n,e){return E((function(t,r){var u=0;t.subscribe(new _(r,(function(t){r.next(n.call(e,t,u++))})))}))}var G=Array.isArray;function H(n){return D((function(e){return function(n,e){return G(e)?n.apply(void 0,p([],m(e))):n(e)}(n,e)}))}function J(n,e,t){return void 0===t&&(t=1/0),r(e)?J((function(t,r){return D((function(n,u){return e(t,n,r,u)}))(U(n(t,r)))}),t):("number"==typeof e&&(t=e),E((function(e,r){return function(n,e,t,r,u,o,c,i){var s=[],a=0,l=0,f=!1,d=function(){!f||s.length||a||e.complete()},b=function(n){return a<r?h(n):s.push(n)},h=function(n){o&&e.next(n),a++;var i=!1;U(t(n,l++)).subscribe(new _(e,(function(n){null==u||u(n),o?b(n):e.next(n)}),(function(){i=!0}),void 0,(function(){if(i)try{a--;for(var n=function(){var n=s.shift();c?e.add(c.schedule((function(){return h(n)}))):h(n)};s.length&&a<r;)n();d()}catch(n){e.error(n)}})))};return n.subscribe(new _(e,b,(function(){f=!0,d()}))),function(){null==i||i()}}(e,r,n,t)})))}var K=["addListener","removeListener"],M=["addEventListener","removeEventListener"],N=["on","off"];function Q(n,e,t,u){if(r(t)&&(u=t,t=void 0),u)return Q(n,e,t).pipe(H(u));var o=m(function(n){return r(n.addEventListener)&&r(n.removeEventListener)}(n)?M.map((function(r){return function(u){return n[r](e,u,t)}})):function(n){return r(n.addListener)&&r(n.removeListener)}(n)?K.map(V(n,e)):function(n){return r(n.on)&&r(n.off)}(n)?N.map(V(n,e)):[],2),i=o[0],s=o[1];if(!i&&S(n))return J((function(n){return Q(n,e,t)}))(B(n));if(!i)throw new TypeError("Invalid event target");return new c((function(n){var e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1<e.length?e:e[0])};return i(e),function(){return s(e)}}))}function V(n,e){return function(t){return function(r){return n[t](e,r)}}}function W(n,e){return E((function(t,r){var u=0;t.subscribe(new _(r,(function(t){return n.call(e,t,u++)&&r.next(t)})))}))}function X(n){return n<=0?function(){return L}:E((function(e,t){var r=0;e.subscribe(new _(t,(function(e){++r<=n&&(t.next(e),n<=r&&t.complete())})))}))}function nn(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return!0===e?(n(),null):!1===e?null:e.apply(void 0,p([],m(t))).pipe(X(1)).subscribe((function(){return n()}))}function en(n,e){n.addEventListener("abort",(()=>{e.forEach((n=>n.unsubscribe()))}),{once:!0})}function tn(...n){return Q(...n).pipe(D((n=>n.detail)))}class rn{constructor(n){this._source$=new y,this.value$=new y,this.error$=new y;const e=this._source$.pipe((t=e=>{const t=new window.AbortController;null!=n&&n.addEventListener("abort",(()=>t.abort()),{once:!0});const r=e(t.signal);return new c((n=>(r.then((e=>n.next([null,e]))).catch((e=>n.next([e]))).finally((()=>n.complete())),()=>t.abort())))},E((function(n,e){var u=null,o=0,c=!1,i=function(){return c&&!u&&e.complete()};n.subscribe(new _(e,(function(n){null==u||u.unsubscribe();var c=0,s=o++;U(t(n,s)).subscribe(u=new _(e,(function(t){return e.next(r?r(n,t,s,c++):t)}),(function(){u=null,i()})))}),(function(){c=!0,i()})))}))),function(n){void 0===n&&(n={});var e=n.connector,t=void 0===e?function(){return new y}:e,r=n.resetOnError,u=void 0===r||r,o=n.resetOnComplete,c=void 0===o||o,i=n.resetOnRefCountZero,s=void 0===i||i;return function(n){var e=null,r=null,o=null,i=0,a=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=null},d=function(){f(),e=o=null,a=l=!1},b=function(){var n=e;d(),null==n||n.unsubscribe()};return E((function(n,h){i++,l||a||f();var v=o=null!=o?o:t();h.add((function(){0!=--i||l||a||(r=nn(b,s))})),v.subscribe(h),e||(e=new w({next:function(n){return v.next(n)},error:function(n){l=!0,f(),r=nn(d,u,n),v.error(n)},complete:function(){a=!0,f(),r=nn(d,c),v.complete()}}),Y(n).subscribe(e))}))(n)}}());var t,r;e.pipe(W((([n])=>null==n)),D((([n,e])=>e))).subscribe(this.value$),e.pipe(W((([n])=>null!=n)),D((([n])=>n))).subscribe(this.error$)}push(n){(this.value$.observers.length>0||this.error$.observers.length>0)&&this._source$.next(n)}}x({selector:"cc-smart-container",onConnect(n,e,t,r){en(r,[t.subscribe((n=>{e.parentContext=n}))])}});class un extends n{static get properties(){return{context:{type:Object,reflect:!0},parentContext:{type:Object,attribute:!1}}}constructor(){super(),this.context={},this.parentContext={}}connectedCallback(){super.connectedCallback(),this._abortController=new AbortController,g(this,this._abortController.signal)}disconnectedCallback(){super.disconnectedCallback(),this._abortController.abort(),delete this._abortController}update(n){super.update(n),C(this,{...this.parentContext,...this.context})}render(){return e`<slot></slot>`}static get styles(){return[t`:host{display:contents}`]}}customElements.define("cc-smart-container",un);export{un as C,L as E,rn as L,_ as O,B as a,H as b,tn as c,D as d,Y as f,U as i,J as m,E as o,en as u};
