import"./cc-invoice-88a8e531.js";import"./cc-smart-container-f668ab58.js";import{b as e,e as n}from"./api-helpers-f5c0afc4.js";import{d as o}from"./request.fetch-17efde15.js";o({selector:"cc-invoice",params:{apiConfig:{type:Object},ownerId:{type:String},invoiceNumber:{type:String}},onContextUpdate({component:o,context:i,onEvent:t,updateComponent:r,signal:a}){const{apiConfig:c,ownerId:m,invoiceNumber:s}=i;r("state",{type:"loading",number:s}),function({apiConfig:o,signal:i,ownerId:t,invoiceNumber:r}){return Promise.all([e({apiConfig:o,signal:i,ownerId:t,invoiceNumber:r}),n({apiConfig:o,signal:i,ownerId:t,invoiceNumber:r})]).then((([e,n])=>({...e,invoiceHtml:n})))}({apiConfig:c,signal:a,ownerId:m,invoiceNumber:s}).then((e=>{r("state",{type:"loaded",number:s,downloadUrl:e.downloadUrl,emissionDate:e.emissionDate,amount:e.total.amount,invoiceHtml:e.invoiceHtml})})).catch((e=>{console.error(e),r("state",{type:"error",number:s})}))}});
