import{s as t}from"./i18n-bf531c19.js";import"./cc-input-text-215605a4.js";import"./cc-loader-c874b32c.js";import"./cc-block-section-d9dd6090.js";import"./cc-block-4351d64f.js";import"./cc-error-8d730ec3.js";import{L as e,d as i,h as o,c as s}from"./vendor-5e139a4e.js";const n=()=>t`Deleting this add-on will make it immediately unavailable.<br>The virtual machine will be stopped in 24 hours.<br>Backups will be kept according to the retention policy.`;class c extends e{static get properties(){return{addon:{type:Object},error:{type:String},saving:{type:Boolean},_name:{type:String,attribute:!1},_skeleton:{type:Boolean,attribute:!1},_tags:{type:Array,attribute:!1}}}constructor(){super(),this._skeleton=!1,this.addon=null,this.error=!1,this.saving=!1}set addon(t){this._skeleton=null==t,this._name=this._skeleton?"":t.name,this._tags=this._skeleton?[]:t.tags}_onNameInput({detail:t}){this._name=t}_onNameSubmit(){i(this,"update-name",{name:this._name})}_onTagsInput({detail:t}){this._tags=t}_onTagsSubmit(){i(this,"update-tags",{tags:this._tags})}_onDeleteSubmit(){i(this,"delete-addon")}_onDismissError(){this.error=!1}render(){const t=!1!==this.error||this.saving,e="loading"===this.error;return o`<cc-block><div slot=title>Administration</div>${e?"":o`<cc-block-section><div slot=title>Add-on name</div><div slot=info></div><div class=one-line-form><cc-input-text ?skeleton=${this._skeleton} ?disabled=${t} .value=${this._name} @cc-input-text:input=${this._onNameInput} @cc-input-text:requestimplicitsubmit=${this._onNameSubmit}></cc-input-text><cc-button primary ?skeleton=${this._skeleton} ?disabled=${t} @cc-button:click=${this._onNameSubmit}>Update name</cc-button></div></cc-block-section><cc-block-section><div slot=title>Tags</div><div slot=info>Tags allow you to classify your applications and add-ons to create categories</div><div class=one-line-form><cc-input-text ?skeleton=${this._skeleton} ?disabled=${t} .tags=${this._tags} placeholder=No defined tags @cc-input-text:tags=${this._onTagsInput} @cc-input-text:requestimplicitsubmit=${this._onTagsSubmit}></cc-input-text><cc-button primary ?skeleton=${this._skeleton} ?disabled=${t} @cc-button:click=${this._onTagsSubmit}>Update tags</cc-button></div></cc-block-section><cc-block-section><div slot=title class=danger>Danger zone</div><div slot=info>${n}</div><div><cc-button danger ?skeleton=${this._skeleton} ?disabled=${t} @cc-button:click=${this._onDeleteSubmit}>Delete the add-on</cc-button></div></cc-block-section>`} ${e?o`<cc-error>Something went wrong while loading add-on info.</cc-error>`:""} ${this.saving?o`<cc-loader slot=overlay></cc-loader>`:""} ${"saving"===this.error?o`<div slot=overlay><cc-error mode=confirm @cc-error:ok=${this._onDismissError}>An error occurred when saving your modifications.</cc-error></div>`:""}</cc-block>`}static get styles(){return[s`:host{display:block}.one-line-form{display:flex}.one-line-form cc-input-text{flex:1 1 10rem;margin-right:.5rem}`]}}window.customElements.define("cc-addon-admin",c);export{c as CcAddonAdmin};
