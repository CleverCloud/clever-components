import{s as e}from"./i18n-bf531c19.js";import"./cc-button-0fc35634.js";import"./cc-flex-gap-4e6ab5ba.js";import{L as t,d as r,h as s,a as i,s as o,w as n,c as a}from"./vendor-5e139a4e.js";import"./cc-loader-c874b32c.js";import{d as c}from"./default-theme-fead272a.js";const p=()=>e`This namespace is used by all <em>cleverapps.io</em> domains (e.g. <em>my-app.cleverapps.io</em>).`,l=()=>e`This namespace is used by all custom domains (e.g. <em>my-app.com</em>).`,d=new URL(new URL("assets/warning-a3a07993.svg",import.meta.url).href,import.meta.url).href,m=new URL(new URL("assets/redirection-off-ceacb7da.svg",import.meta.url).href,import.meta.url).href,h=new URL(new URL("assets/redirection-on-5539b160.svg",import.meta.url).href,import.meta.url).href;class u extends t{static get properties(){return{error:{type:Boolean},namespace:{type:String},private:{type:Boolean},skeleton:{type:Boolean},sourcePort:{type:Number,attribute:"source-port"},waiting:{type:Boolean}}}constructor(){super(),this.error=!1,this.private=!1,this.skeleton=!1,this.waiting=!1}_getButtonText(){return this.error?"Retry":this._isRedirectionDefined()?"Delete":"Create"}_getHelpText(){const{namespace:t,sourcePort:r}=this;return this.error?this._isRedirectionDefined()?(({namespace:t,sourcePort:r})=>e`An error occurred while deleting the redirection from port <code>${r}</code> to port <code>4040</code> in the <strong>${t}</strong> namespace.`)({namespace:t,sourcePort:r}):(({namespace:t})=>e`An error occured while creating a redirection in the <strong>${t}</strong> namespace.`)({namespace:t}):this._isRedirectionDefined()?(({namespace:t,sourcePort:r})=>e`This application has a redirection from port <code>${r}</code> to port <code>4040</code> in the <strong>${t}</strong> namespace.`)({namespace:t,sourcePort:r}):(({namespace:t})=>e`You can create a redirection in the <strong>${t}</strong> namespace.`)({namespace:t})}_getHelpTextAddendum(){if(this.error)return null;if(this.private)return"This is your private namespace.";switch(this.namespace){case"default":return l;case"cleverapps":return p;default:return null}}_getIconUrl(){return this.error?d:this._isRedirectionDefined()?h:m}_isRedirectionDefined(){return null!=this.sourcePort}_onCreate(){r(this,"create",{namespace:this.namespace})}_onDelete(){r(this,"delete",{namespace:this.namespace,sourcePort:this.sourcePort})}render(){return s`<cc-flex-gap class=wrapper><div class="${i({skeleton:this.skeleton})} icon">${this.waiting||this.skeleton?"":s`<img src=${this._getIconUrl()} alt="">`} ${this.waiting?s`<cc-loader></cc-loader>`:""}</div><cc-flex-gap class="${i({"cc-waiting":this.waiting})} text-button"><div class=text-wrapper><span class="${i({skeleton:this.skeleton})} text">${this._getHelpText()}</span> ${null!=this._getHelpTextAddendum()?s`<br><span class="${i({skeleton:this.skeleton})} text-addendum">${this._getHelpTextAddendum()}</span>`:""}</div><cc-button outlined ?skeleton=${this.skeleton} ?waiting=${this.waiting} ?danger=${this._isRedirectionDefined()} delay=${this._isRedirectionDefined()?3:0} ?primary=${!this._isRedirectionDefined()} @cc-button:click=${this._isRedirectionDefined()?this._onDelete:this._onCreate}>${this._getButtonText()}</cc-button></cc-flex-gap></cc-flex-gap>`}static get styles(){return[c,o,n,a`:host{display:block}.wrapper{--cc-gap:0.8rem}.icon{flex:0 0 auto;height:1.5rem;width:1.5rem}.icon img{display:block;height:100%;width:100%}.icon cc-loader{--cc-loader-color:#999}.text-button{flex:1 1 0}.text-wrapper{flex:1 1 30rem;line-height:1.6rem}.text strong{white-space:nowrap}.text:not(.skeleton) code{background-color:#f3f3f3;border-radius:.25rem;font-family:var(--cc-ff-monospace);padding:.15rem .3rem}.text-addendum:not(.skeleton){color:#555}.skeleton{background-color:#bbb}`]}}window.customElements.define("cc-tcp-redirection",u);export{u as CcTcpRedirection};
