import"./cc-smart-container-f668ab58.js";import{a as t}from"./product-e02e4c8e.js";import{d as r,O as e}from"./request.fetch-17efde15.js";import{h as n}from"./api-helpers-f5c0afc4.js";import{e as o,g as a}from"./product-393fa208.js";import{s}from"./send-to-api-3f46dae0.js";import"./cc-pricing-product-6347c4de.js";function c({productId:r,signal:n}){return t().then(s({cacheDelay:e,signal:n})).then((t=>{const e=t.find((t=>t.variant.slug===r));if(null==e){const t=a(r);if(null!=t)return t;throw new Error(`Unknown variant slug: ${r}`)}return e}))}r({selector:'cc-pricing-product[mode="runtime"]',params:{productId:{type:String},zoneId:{type:String}},onContextUpdate({context:t,updateComponent:r,signal:e}){const{productId:a,zoneId:s}=t;r("state",{state:"loading"}),function({productId:t,zoneId:r,signal:e}){return Promise.all([c({productId:t,signal:e}),n({zoneId:r,signal:e})]).then((([t,r])=>o(t,r)))}({productId:a,zoneId:s,signal:e}).then((t=>{r("product",{state:"loaded",name:t.name,productFeatures:t.productFeatures,plans:t.plans})})).catch((t=>{console.error(t),r("product",{state:"error"})}))}});
