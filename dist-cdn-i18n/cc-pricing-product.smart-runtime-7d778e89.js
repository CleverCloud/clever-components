import"./cc-pricing-product-d512ad08.js";import{L as r,u as n}from"./cc-smart-container-0c093be7.js";import{a as e}from"./product-33178d77.js";import{s as o,O as s}from"./send-to-api-d26c0c41.js";import{e as c}from"./api-helpers-a710dc87.js";import{e as t,g as a}from"./product-4de508d3.js";import{d as i}from"./smart-manager-10eab692.js";function d({signal:r,productId:n}){return e().then(o({signal:r,cacheDelay:s})).then((r=>{const e=r.find((r=>r.variant.slug===n));if(null==e){if("jenkins-runner"===n)return a();throw new Error(`Unknown variant slug: ${n}`)}return e}))}i({selector:'cc-pricing-product[mode="runtime"]',params:{productId:{type:String},zoneId:{type:String},currency:{type:Object}},onConnect(e,o,s,a){const i=new r;n(a,[i.error$.subscribe(console.error),i.error$.subscribe((()=>o.error=!0)),i.value$.subscribe((r=>{o.name=r.name,o.icon=r.icon,o.description=r.description,o.plans=r.plans,o.features=r.features})),s.subscribe((({productId:r,zoneId:n,currency:e})=>{null!=e&&(o.currency=e),i.push((e=>async function({signal:r,productId:n,zoneId:e="PAR"}){const[o,s]=await Promise.all([d({signal:r,productId:n}),c({signal:r,zoneId:e})]);return t(o,s)}({signal:e,productId:r,zoneId:n})))}))])}});
