import{L as e,d as t,h as i,a as n,i as o,s,c as r}from"./vendor-5e139a4e.js";import{l as a}from"./cc-link-bb132771.js";class l extends e{static get properties(){return{circle:{type:Boolean},danger:{type:Boolean},delay:{type:Number},disabled:{type:Boolean,reflect:!0},hideText:{type:Boolean,attribute:"hide-text"},image:{type:String},link:{type:Boolean,reflect:!0},outlined:{type:Boolean},primary:{type:Boolean},skeleton:{type:Boolean},success:{type:Boolean},waiting:{type:Boolean},warning:{type:Boolean},_cancelMode:{type:Boolean,attribute:!1}}}constructor(){super(),this.circle=!1,this.danger=!1,this.disabled=!1,this.link=!1,this.hideText=!1,this.outlined=!1,this.primary=!1,this.skeleton=!1,this.success=!1,this.waiting=!1,this.warning=!1,this._cancelMode=!1}focus(){this.shadowRoot.querySelector("button").focus()}_cancelClick(){clearTimeout(this._timeoutId),this._cancelMode=!1}_onClick(e){if(e.stopPropagation(),null==this.delay||0===this.delay||this.link)return t(this,"click");this._cancelMode?this._cancelClick():(this._cancelMode=!0,this._timeoutId=setTimeout((()=>{t(this,"click"),this._cancelMode=!1}),1e3*this.delay))}update(e){e.has("disabled")&&!0===this.disabled&&this._cancelClick(),super.update(e)}render(){const e={primary:this.primary&&!this.success&&!this.warning&&!this.danger&&!this.link,success:!this.primary&&this.success&&!this.warning&&!this.danger&&!this.link,warning:!this.primary&&!this.success&&this.warning&&!this.danger&&!this.link,danger:!this.primary&&!this.success&&!this.warning&&this.danger&&!this.link,skeleton:this.skeleton,"img-only":null!=this.image&&this.hideText,"txt-only":null==this.image,btn:!this.link,"cc-link":this.link},t=null==this.delay||this.link?null:this.delay,s=this.waiting&&!this.link;e.simple=!(e.primary||e.success||e.warning||e.danger||this.link),e.outlined=(this.outlined||e.simple)&&!this.link,e.circle=this.circle&&this.hideText&&this.image;const r=null!=this.image&&this.hideText?this.textContent??"":void 0;return i`<button type=button class=${n(e)} .disabled=${this.disabled||this.skeleton||this.waiting} @click=${this._onClick} title=${o(r)} aria-label=${o(r)}><div class="${n({"cancel-mode":this._cancelMode})} text-wrapper">${null!=this.image?i`<img src=${this.image} alt="">`:""}<div class=text-normal><slot></slot></div>${null!=t?i`<div class=text-cancel>Click to cancel</div>`:""}</div>${null!=t?i`<progress class="${n({active:this._cancelMode})} delay" style=--delay:${t}s></progress>`:""} ${s?i`<progress class=waiting></progress>`:""}</button>`}static get styles(){return[s,a,r`:host{box-sizing:border-box;display:inline-block;vertical-align:middle}button{background:#fff;border:none;display:block;font-family:inherit;font-size:unset;margin:0;padding:0}.btn{border:1px solid #000;border-radius:.15em;cursor:pointer;font-weight:700;min-height:2em;overflow:hidden;padding:0 .5em;position:relative;text-transform:uppercase;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:100%;background-color:var(--btn-color);border-color:var(--btn-color);color:#fff;box-shadow:0 0 0 0 rgba(255,255,255,0);transition:box-shadow 75ms ease-in-out}.primary{--btn-color:hsl(213, 55%, 62%)}.success{--btn-color:hsl(144, 56%, 43%)}.warning{--btn-color:hsl(35, 84%, 37%)}.danger{--btn-color:hsl(351, 70%, 47%)}.outlined{background-color:#fff;color:var(--btn-color)}.circle{border-radius:50%}.simple{--btn-color:hsl(210, 23%, 26%);border-color:#aaa}.img-only{height:1.75em;min-height:0;padding:0;width:1.75em}.btn:enabled:focus{box-shadow:0 0 0 .2em rgba(50,115,220,.25);outline:0}.btn:enabled:hover{box-shadow:0 1px 3px #888}.btn:enabled:active{box-shadow:none;outline:0}button:disabled{cursor:inherit;opacity:.5}.skeleton{background-color:#bbb;border-color:#777;color:transparent}.skeleton img{visibility:hidden}.text-wrapper{align-items:center;display:grid;gap:.5em;grid-template-columns:min-content 1fr;height:100%;justify-content:center;width:100%}.txt-only .text-wrapper{gap:0;grid-template-columns:1fr}.img-only .text-wrapper{gap:0;grid-template-columns:min-content}img{display:block;height:1.25em;width:1.25em;grid-column:1/2}.img-only .text-normal{display:none}.text-cancel,.text-normal,img{grid-row:1/2}.text-cancel,.text-normal{font-size:.85em}.text-normal{grid-column:-1/-2}.text-cancel{grid-column:1/-1}.text-wrapper.cancel-mode .text-normal,.text-wrapper.cancel-mode img,.text-wrapper:not(.cancel-mode) .text-cancel{visibility:hidden}progress,progress::-webkit-progress-bar{background-color:#fff}.outlined progress,.outlined progress::-webkit-progress-bar{background-color:var(--btn-color)}progress::-moz-progress-bar,progress::-webkit-progress-value{background-color:transparent}progress.delay{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;bottom:0;height:.2em;left:0;position:absolute;width:0}progress.delay.active{transition:width var(--delay) linear;width:100%}@keyframes waiting{from{left:-52%}to{left:52%}}progress.waiting{--width:25%;animation:1s ease-in-out infinite alternate waiting;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;bottom:0;height:.2em;margin-left:calc(50% - calc(var(--width)/ 2));position:absolute;width:var(--width)}button::-moz-focus-inner{border:0}.cc-link{cursor:pointer;text-decoration:underline}.cc-link .text-normal{font-size:1em}`]}}window.customElements.define("cc-button",l);export{l as CcButton};
