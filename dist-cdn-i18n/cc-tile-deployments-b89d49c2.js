import"./cc-datetime-relative-92a81728.js";import"./cc-error-8d730ec3.js";import{L as t,h as e,a as s,s as a,c as r}from"./vendor-5e139a4e.js";import{t as o}from"./info-tiles-0fcdc9dd.js";import{c as l,l as i}from"./cc-link-bb132771.js";const c=[{state:"???????",date:"??????????"},{state:"??????",date:"???????????"}];class d extends t{static get properties(){return{deployments:{type:Array},error:{type:Boolean,reflect:!0}}}constructor(){super(),this.error=!1}_getStateLabel(t,e){return"OK"===t?"UNDEPLOY"===e?"Stopped":"Started":"FAIL"===t?"Failed":"CANCELLED"===t?"Cancelled":t}render(){const t=null==this.deployments,a=t?c:this.deployments,r=!this.error&&a.length>0,o=!this.error&&0===a.length;return e`<div class=tile_title>Last deployments</div>${r?e`<div class=tile_body>${a.map((a=>e`<div class=state data-state=${a.state}><span class=${s({skeleton:t})}>${this._getStateLabel(a.state,a.action)}</span></div><div class=date>${t?e`<span class=skeleton>${a.date}</span>`:""} ${t?"":e`<cc-datetime-relative datetime=${a.date}></cc-datetime-relative>`}</div><div>${l(a.logsUrl,"logs",t)}</div>`))}</div>`:""} ${o?e`<div class=tile_message>No deployments yet.</div>`:""} ${this.error?e`<cc-error class=tile_message>Something went wrong while loading deployments info.</cc-error>`:""}`}static get styles(){return[o,a,i,r`.tile_body{align-items:start;grid-gap:1rem;grid-template-columns:auto auto auto;justify-content:space-between}.state{color:#fff;font-weight:700}.state[data-state=CANCELLED]{color:#b06d0f}.state[data-state=FAIL]{color:#cc0028}.state[data-state=OK]{color:#2faa60}[title]{cursor:help}.skeleton{background-color:#bbb}`]}}window.customElements.define("cc-tile-deployments",d);export{d as CcTileDeployments};
