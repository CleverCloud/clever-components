import"./cc-pricing-product-d512ad08.js";import{L as r,u as e}from"./cc-smart-container-0c093be7.js";import{g as n}from"./product-33178d77.js";import{s as o,O as s}from"./send-to-api-d26c0c41.js";import{e as a}from"./api-helpers-a710dc87.js";import{d as t}from"./product-4de508d3.js";import{d as c}from"./smart-manager-10eab692.js";function d({signal:r,productId:e}){return n().then(o({signal:r,cacheDelay:s})).then((r=>{const n=r.find((r=>r.id===e));if(null==n)throw new Error(`Unknown add-on provider ID: ${e}`);return n}))}c({selector:'cc-pricing-product[mode="addon"]',params:{productId:{type:String},zoneId:{type:String},currency:{type:Object},addonFeatures:{type:Array}},onConnect(n,o,s,c){const i=new r;e(c,[i.error$.subscribe(console.error),i.error$.subscribe((()=>o.error=!0)),i.value$.subscribe((r=>{o.name=r.name,o.icon=r.icon,o.description=r.description,o.plans=r.plans,o.features=r.features})),s.subscribe((({productId:r,zoneId:e,currency:n,addonFeatures:s})=>{null!=n&&(o.currency=n),i.push((n=>async function({signal:r,productId:e,zoneId:n="PAR",addonFeatures:o}){const[s,c]=await Promise.all([d({signal:r,productId:e}),a({signal:r,zoneId:n})]);return t(s,c,o)}({signal:n,productId:r,zoneId:e,addonFeatures:s})))}))])}});
