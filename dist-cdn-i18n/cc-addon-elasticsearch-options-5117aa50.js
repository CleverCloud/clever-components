import{s as t,c as o,p as a}from"./i18n-bf531c19.js";import"./cc-addon-option-form-da879069.js";import"./cc-error-8d730ec3.js";import{L as e,d as i,h as n,c as s}from"./vendor-5e139a4e.js";import{c as r}from"./cc-addon-encryption-at-rest-option-06b7f6fe.js";const l=a("en","B"," ");function c(t){return[`CPUs: ${t.cpus}`+(t.microservice?" (shared)":""),t.gpus>0?`GPUs: ${t.gpus}`:"",`RAM: ${l(1024*t.mem*1024)}`].filter((t=>t)).join("\n")}const p=()=>t`This add-on is part of the Elastic Stack offer which includes two options. Both these options will be deployed as applications, managed and updated by Clever Cloud on your behalf. They will appear as regular applications that you can stop, scale up or down automatically like one of your own applications. As such, <strong>enabling these options will result in an increase in credits consumption</strong> as well.`,d=()=>t`Elastic APM server is an application performance monitoring system built on the Elastic Stack. Deploying this will allow you to automatically send APM metrics from any applications linked to the Elasticsearch add-on instance, providing you add the Elastic APM agent to the application code. Learn more in the <a href="https://www.elastic.co/guide/en/apm/get-started/current/overview.html">official APM server documentation</a>.`,u=()=>t`Kibana is the admin UI for the Elastic Stack. It lets you visualize your Elasticsearch data and navigate the stack so you can do anything from tracking query load to understanding the way requests flow through your apps. Learn more in the <a href="https://www.elastic.co/guide/en/kibana/master/index.html">official Kibana documentation</a>.`;class h extends e{static get properties(){return{options:{type:Array,attribute:"options"}}}constructor(){super(),this.options=[]}_onFormOptionsSubmit({detail:t}){i(this,"submit",t)}_getApmOption({enabled:a,flavor:e}){return{title:"APM",logo:"https://static-assets.cellar.services.clever-cloud.com/logos/elasticsearch-apm.svg",description:n`<div class=option-details>${d}</div><cc-error class=option-warning>If you enable this option, we'll deploy and manage an Elastic APM server application for you, this will lead to additional costs. ${null!=e?n`${(a=>t`By default, the app will start on a <strong title="${c(a)}">${a.name} instance</strong> which costs around <strong>${o("en",a.monthlyCost)} per month</strong>.`)(e)}`:""}</cc-error>`,enabled:a,name:"apm"}}_getKibanaOption({enabled:a,flavor:e}){return{title:"Kibana",logo:"https://static-assets.cellar.services.clever-cloud.com/logos/elasticsearch-kibana.svg",description:n`<div class=option-details>${u}</div><cc-error class=option-warning>If you enable this option, we'll deploy and manage a Kibana application for you, this will lead to additional costs. ${null!=e?n`${(a=>t`By default, the app will start on a <strong title="${c(a)}">${a.name} instance</strong> which costs around <strong>${o("en",a.monthlyCost)} per month</strong>.`)(e)}`:""}</cc-error>`,enabled:a,name:"kibana"}}_getFormOptions(){return this.options.map((t=>{switch(t.name){case"apm":return this._getApmOption(t);case"kibana":return this._getKibanaOption(t);case"encryption":return r(t);default:return null}})).filter((t=>null!=t))}render(){const t=this._getFormOptions();return n`<cc-addon-option-form title=Options for the Elastic Stack .options=${t} @cc-addon-option-form:submit=${this._onFormOptionsSubmit}><div slot=description>${p}</div></cc-addon-option-form>`}static get styles(){return[s`:host{display:block}`]}}window.customElements.define("cc-addon-elasticsearch-options",h);export{h as CcAddonElasticsearchOptions};
