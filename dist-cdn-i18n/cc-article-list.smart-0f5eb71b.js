import"./cc-article-list-15d90cee.js";import"./cc-smart-container-f668ab58.js";import{d as e,w as t,r}from"./request.fetch-17efde15.js";const n=144e5;e({selector:"cc-article-list",params:{lang:{type:String},limit:{type:Number}},onContextUpdate({context:e,updateComponent:o,signal:l}){o("state",{type:"loading"});const{lang:a,limit:c}=e;(async function({signal:e,lang:o,limit:l=9}){const a="fr"===o?"https://www.clever-cloud.com/fr/feed/?format=excerpt":"https://www.clever-cloud.com/feed/?format=excerpt",c={method:"get",url:a,headers:{},signal:e};return function(e,t=9){if(t<=0)return[];const r=e.trim(),n=(new DOMParser).parseFromString(r,"application/xml"),o=n.querySelector("parsererror");if(null!=o)throw new Error(o.innerHTML);return Array.from(n.documentElement.querySelectorAll("item")).map((e=>{const t=e.querySelector("title").textContent,r=e.querySelector("link").textContent,n=e.querySelector("pubDate").textContent,o=new Date(n).toISOString(),l=e.querySelector("description").childNodes[0].data,a=(new DOMParser).parseFromString(l,"text/html");return{title:t,link:r,date:o,banner:a.body?.querySelector(".wp-post-image")?.src??null,description:a.body?.querySelectorAll("p")?.[1]?.textContent??a.body.textContent}})).slice(0,t)}(await t(c,n,(()=>r(c))),l)})({signal:l,lang:a,limit:c}).then((e=>{o("state",{type:"loaded",articles:e})})).catch((e=>{console.error(e),o("state",{type:"error"})}))}});
