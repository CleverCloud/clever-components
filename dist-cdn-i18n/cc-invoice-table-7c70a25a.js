import{b as t,c as e,s as o}from"./i18n-bf531c19.js";import{L as s,h as i,a as n,s as r,c as a}from"./vendor-5e139a4e.js";import"./cc-flex-gap-4e6ab5ba.js";import"./cc-img-ca15395c.js";import{s as c}from"./utils-e732f1fc.js";import{w as l}from"./with-resize-observer-323d9e0d.js";import{d}from"./default-theme-fead272a.js";import{c as m,l as u}from"./cc-link-bb132771.js";const p=new URL(new URL("assets/file-d798b536.svg",import.meta.url).href,import.meta.url).href,b=["PENDING","PAYMENTHELD"],h="PROCESSING",f=["PAID","CANCELED","REFUNDED"],g=[{emissionDate:"2020-01-01",number:"????????????",type:"INVOICE",status:"PENDING",total:{currency:"EUR",amount:10}},{emissionDate:"2020-02-01",number:"????????????",type:"INVOICE",status:"PENDING",total:{currency:"EUR",amount:200}},{emissionDate:"2020-03-01",number:"????????????",type:"INVOICE",status:"PENDING",total:{currency:"EUR",amount:3e3}}];class v extends(l(s)){static get properties(){return{invoices:{type:Array},_width:{type:Number}}}onResize({width:t}){this._width=t}render(){const t=this._width>700,e=null==this.invoices,o=(e?g:this.invoices).map((t=>{const e="CREDITNOTE"===t.type?-1:1;return{...t,total:{...t.total,amount:t.total.amount*e}}})).sort(c("emissionDate",!0));return t?this._renderBig(e,o):this._renderSmall(e,o)}_renderBig(o,s){return i`<table><tr><th>Emission date</th><th>Number</th><th class=number>Total</th><th></th></tr>${s.map((s=>i`<tr><td><span class=${n({skeleton:o})}>${(({date:e})=>`${t("en",e)}`)({date:s.emissionDate})}</span></td><td><span class=${n({skeleton:o})}>${s.number}</span></td><td class=number><code class=${n({skeleton:o,"credit-note":"CREDITNOTE"===s.type})}>${(({amount:t})=>`${e("en",t)}`)({amount:s.total.amount})}</code></td><td>${this._renderLinks(o,s)}</td></tr>`))}</table>`}_renderSmall(s,r){return i`<div class=invoice-list>${r.map((r=>i`<div class=invoice><cc-img class=invoice-icon src=${p}></cc-img><div class="${n({skeleton:s})} invoice-text">${(({number:s,date:i,amount:n})=>o`Invoice <strong>${s}</strong> issued on <strong>${t("en",i)}</strong> for a total amount of <code>${e("en",n)}</code>`)({number:r.number,date:r.emissionDate,amount:r.total.amount})}<br>${this._renderLinks(s,r)}</div></div>`))}</div>`}_renderLinks(t,e){return i`<cc-flex-gap class=links>${m(e.downloadUrl,"Download PDF",t)} ${b.includes(e.status)?i`${m(e.paymentUrl,"Pay",t)}`:""}</cc-flex-gap>`}static get styles(){return[d,r,u,a`:host{display:block}code{font-family:var(--cc-ff-monospace);font-size:1rem}.credit-note{font-style:italic}.cc-link{white-space:nowrap}.links{--cc-gap:1rem;--cc-align-items:center}.invoice-list{display:grid;gap:1.5rem}.invoice{display:flex;line-height:1.5rem}.invoice-icon,.invoice-text{margin-right:.5rem}.invoice-icon{flex:0 0 auto;height:1.5rem;width:1.5rem}.invoice-text{color:#555}.invoice-text code,.invoice-text strong{color:#000;font-weight:700;white-space:nowrap}.invoice-list .skeleton code,.invoice-list .skeleton strong{background-color:#bbb;color:transparent}table{border-collapse:collapse;border-radius:5px;overflow:hidden}td,th{padding:.5rem 1rem;text-align:left}th{background-color:#eee}td{background-color:#fafafa}tr:not(:last-child) td{border-bottom:1px solid #ddd}.number{text-align:right}td.number{min-width:13ch}tr:hover td{background-color:#f5f5f5}table .skeleton{background-color:#bbb}`]}}window.customElements.define("cc-invoice-table",v);export{v as CcInvoiceTable,b as PENDING_STATUSES,f as PROCESSED_STATUSES,h as PROCESSING_STATUS};
