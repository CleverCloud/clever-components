import"./cc-smart-container-f668ab58.js";import"./cc-pricing-product-6347c4de.js";import{g as t}from"./product-e02e4c8e.js";import{d as e,O as r}from"./request.fetch-17efde15.js";import{h as o}from"./api-helpers-f5c0afc4.js";import{d as n}from"./product-393fa208.js";import{s as a}from"./send-to-api-3f46dae0.js";function d({signal:e,productId:o}){return t().then(a({cacheDelay:r,signal:e})).then((t=>{const e=t.find((t=>t.id===o));if(null==e)throw new Error(`Unknown add-on provider ID: ${o}`);return e}))}e({selector:'cc-pricing-product[mode="addon"]',params:{addonFeatures:{type:Array},productId:{type:String},zoneId:{type:String}},onContextUpdate({context:t,updateComponent:e,signal:r}){const{productId:a,zoneId:s,addonFeatures:c}=t;e("state",{state:"loading"}),function({productId:t,zoneId:e,addonFeatures:r,signal:a}){return Promise.all([d({productId:t,signal:a}),o({zoneId:e,signal:a})]).then((([t,e])=>n(t,e,r)))}({zoneId:s,productId:a,addonFeatures:c,signal:r}).then((t=>{e("product",{state:"loaded",name:t.name,productFeatures:t.productFeatures,plans:t.plans})})).catch((t=>{console.error(t),e("product",{state:"error"})}))}});
