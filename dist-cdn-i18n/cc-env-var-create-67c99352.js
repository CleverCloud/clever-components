import{s as e}from"./i18n-bf531c19.js";import"./cc-button-0fc35634.js";import"./cc-flex-gap-4e6ab5ba.js";import"./cc-input-text-215605a4.js";import"./cc-error-8d730ec3.js";import{v as t}from"./env-vars-13fc89da.js";import{L as a,d as i,h as r,c as s}from"./vendor-5e139a4e.js";import{d as c}from"./default-theme-fead272a.js";class l extends a{static get properties(){return{disabled:{type:Boolean},variablesNames:{type:Array,attribute:"variables-names"},_variableName:{type:String,attribute:!1},_variableValue:{type:String,attribute:!1}}}constructor(){super(),this.disabled=!1,this.variablesNames=[],this.reset()}reset(){this._variableName="",this._variableValue=""}_onNameInput({detail:e}){this._variableName=e}_onValueInput({detail:e}){this._variableValue=e}_onSubmit(){i(this,"create",{name:this._variableName,value:this._variableValue}),this.reset(),this.shadowRoot.querySelector("cc-input-text.name").focus()}_onRequestSubmit(e,t){e.stopPropagation(),t||this._onSubmit()}render(){const a=!t(this._variableName),i=this.variablesNames.includes(this._variableName),s=a||i;return r`<cc-flex-gap><cc-input-text class=name name=name value=${this._variableName} ?disabled=${this.disabled} placeholder=VARIABLE_NAME @cc-input-text:input=${this._onNameInput} @cc-input-text:requestimplicitsubmit=${e=>this._onRequestSubmit(e,s)}></cc-input-text><cc-flex-gap class=input-btn><cc-input-text class=value name=value value=${this._variableValue} multi ?disabled=${this.disabled} placeholder=variable value @cc-input-text:input=${this._onValueInput} @cc-input-text:requestimplicitsubmit=${e=>this._onRequestSubmit(e,s)}></cc-input-text><cc-button primary ?disabled=${s||this.disabled} @cc-button:click=${this._onSubmit}>Add</cc-button></cc-flex-gap></cc-flex-gap>${a&&""!==this._variableName?r`<cc-error>${(({name:t})=>e`Name <code>${t}</code> is invalid`)({name:this._variableName})}</cc-error>`:""} ${i?r`<cc-error>${(({name:t})=>e`Name <code>${t}</code> is already defined`)({name:this._variableName})}</cc-error>`:""}`}static get styles(){return[c,s`:host{--cc-gap:0.5rem;display:block}.name{flex:1 1 15rem}.input-btn{flex:2 1 27rem}.value{flex:100 1 20rem}cc-button{align-self:flex-start;flex:1 1 6rem;white-space:nowrap}cc-error{margin:.5rem 0}cc-error code{background-color:#f3f3f3;border-radius:.25rem;font-family:var(--cc-ff-monospace);padding:.15rem .3rem}`]}}window.customElements.define("cc-env-var-create",l);export{l as CcEnvVarCreate};
