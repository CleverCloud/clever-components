import{L as e,d as t,h as n,c}from"./vendor-5e139a4e.js";import"./cc-pricing-header-ca4106dc.js";import"./cc-pricing-product-d512ad08.js";import"./cc-pricing-estimation-89fc13c5.js";const s={code:"EUR",changeRate:"1"};class i extends e{static get properties(){return{currencies:{type:Array},currency:{type:Object},zoneId:{type:Object},zones:{type:Array},_selectedPlans:{type:Object}}}constructor(){super(),this.currency=s,this._selectedPlans={}}_getTotalPrice(){return Object.values(this._selectedPlans).map((({price:e,quantity:t})=>24*e*30*t)).reduce(((e,t)=>e+t),0)}_getPlanId(e){return e.id??`${e.productName}/${e.name}`}_onAddPlan({detail:e}){const t=this._getPlanId(e);null==this._selectedPlans[t]&&(this._selectedPlans[t]={...e,quantity:0}),this._selectedPlans[t].quantity+=1,this.requestUpdate()}_onChangeQuantity({detail:e}){const t=this._getPlanId(e);this._selectedPlans[t].quantity=e.quantity,this.requestUpdate()}_onDeletePlan({detail:e}){const t=this._getPlanId(e);delete this._selectedPlans[t],this.requestUpdate()}_onChangeCurrency({detail:e}){t(this,"change-currency",e)}_onChangeZone({detail:e}){t(this,"change-zone",e)}render(){const e=Object.values(this._selectedPlans),t=this._getTotalPrice();return n`<cc-pricing-header part=header .currency=${this.currency} .currencies=${this.currencies} .totalPrice=${t} .zoneId=${this.zoneId} .zones=${this.zones} @cc-pricing-header:change-currency=${this._onChangeCurrency} @cc-pricing-header:change-zone=${this._onChangeZone}></cc-pricing-header><slot name=resources></slot><slot @cc-pricing-product:add-plan=${this._onAddPlan}></slot><slot name=estimation-header></slot><cc-pricing-estimation exportparts="selected-plans: estimation-selected-plans, recap: estimation-recap" .currency=${this.currency} .selectedPlans=${e} .totalPrice=${t} @cc-pricing-estimation:change-quantity=${this._onChangeQuantity} @cc-pricing-estimation:delete-plan=${this._onDeletePlan}></cc-pricing-estimation>`}static get styles(){return[c`:host{display:contents}`]}}window.customElements.define("cc-pricing-page",i);export{i as CcPricingPage};
