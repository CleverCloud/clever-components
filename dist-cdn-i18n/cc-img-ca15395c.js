import{L as e,h as t,a as r,i as o,s,c as i}from"./vendor-5e139a4e.js";class a extends e{static get properties(){return{skeleton:{type:Boolean,reflect:!0},src:{type:String},text:{type:String},_error:{type:Boolean,attribute:!1},_loaded:{type:Boolean,attribute:!1}}}constructor(){super(),this.skeleton=!1,this._error=!1,this._loaded=!1}_onLoad(e){this._loaded=!0,this.skeleton=!1}_onError(e){this._error=!0,this.skeleton=!1}update(e){e.has("src")&&(this._error=!1,this._loaded=!1),super.update(e)}render(){const e=null!=this.src&&!this._loaded&&!this._error,s=this.skeleton||e,i=null==this.src||this._error;return t`<div class="${r({skeleton:s,loaded:this._loaded,text:i})} wrapper"><img src=${o(this.src)} @load=${this._onLoad} @error=${this._onError} alt=""> ${i?t`<div class=error-msg>${this.text}</div>`:""}</div>`}static get styles(){return[s,i`:host{display:inline-block;overflow:hidden}.wrapper,img{height:100%;width:100%}.wrapper{align-items:center;display:flex;justify-content:center;position:relative}.wrapper.skeleton{background-color:#bbb}.wrapper.text{background-color:#eee}img{display:block;left:0;object-fit:var(--cc-img-fit,cover);object-position:center center;opacity:0;position:absolute;top:0;transition:opacity 150ms ease-in-out}.wrapper.loaded img{opacity:1}.error-msg{font-size:.85em;overflow:hidden;padding:.3em;text-align:center;text-overflow:ellipsis;white-space:nowrap}`]}}window.customElements.define("cc-img",a);export{a as CcImg};
