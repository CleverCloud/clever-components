import{L as t,h as e,i,c as o}from"./vendor-5e139a4e.js";import"./cc-loader-c874b32c.js";class s extends t{static get properties(){return{loading:{type:Boolean,reflect:!0},sandbox:{type:String},title:{type:String}}}constructor(t){super(t),this.loading=!1,this.title=""}_updateHtmlSource(){if(1===this.children.length&&"TEMPLATE"===this.children[0].tagName){const t=this.children[0],e=new Blob([t.innerHTML],{type:"text/html"});this._blobUrl&&window.URL.revokeObjectURL(this._blobUrl),this._blobUrl=window.URL.createObjectURL(e);const i=this.shadowRoot.querySelector("iframe");this.loading=!0,i.addEventListener("load",(()=>this.loading=!1),{once:!0}),i.src=this._blobUrl}}connectedCallback(){super.connectedCallback(),this._mo=new MutationObserver((()=>this._updateHtmlSource())),this._mo.observe(this,{childList:!0})}disconnectedCallback(){super.disconnectedCallback(),this._mo.disconnect(),this._blobUrl&&window.URL.revokeObjectURL(this._blobUrl)}firstUpdated(){this._updateHtmlSource()}render(){return e`<iframe title=${this.title} src=about:blank sandbox=${i(this.sandbox)}></iframe>${this.loading?e`<cc-loader></cc-loader>`:""}`}static get styles(){return[o`:host{display:block;position:relative}iframe{border:none;height:100%;width:100%}:host([loading]) iframe{opacity:.25}cc-loader{height:100%;left:0;position:absolute;top:0;width:100%}`]}}window.customElements.define("cc-html-frame",s);export{s as CcHtmlFrame};
