import{D as t}from"./date-formatter-ef4a9186.js";class e{constructor(t,e=null,s=(t=>t)){this._valueProvider=t,this._size=e,this._keySerializer=s,this._map=new Map,this._keys=[]}get(t){const e=this._keySerializer(t);if(this._map.has(e))return this._map.get(e);const s=this._valueProvider(t);if(this._map.set(e,s),this._keys.push(e),null!=this._size&&this._keys.length>this._size){const t=this._keys.shift();this._map.delete(t)}return s}has(t){return this._map.has(this._keySerializer(t))}evict(t){const e=this._keySerializer(t);this._map.has(e)&&(this._keys.splice(this._keys.indexOf(e),1),this._map.delete(e))}clear(){this._map.clear(),this._keys=[]}}const s=["date","separator","time","millisecond","timezone"],i=["none","datetime-iso","time-iso","datetime-short","time-short"],a=["local","UTC"];class r{constructor(s,i){this._display=s,this._timezone=i,this._isDateIncluded="datetime-iso"===this.display||"datetime-short"===this.display;const a="datetime-iso"===this.display||"time-iso"===this.display?"datetime-iso":"datetime-short";this._dateFormatter=new t(a,this.timezone),this._cache=new e((t=>this._getFormatToParts(t)),1e3,(t=>t.getTime()))}get display(){return this._display}get timezone(){return this._timezone}format(t){if("none"===this.display)return"";const e=this.formatToParts(t);return s.map((t=>e[t])).filter((t=>null!=t)).join("")}formatAndMapParts(t,e){if("none"===this.display)return[];const i=this.formatToParts(t);return s.map((t=>[t,i[t]])).filter((([t,e])=>null!=e)).map((([t,s])=>e(t,s)))}formatToParts(t){return"none"===this._display?{}:this._cache.get(t)}_getFormatToParts(t){const e=this._dateFormatter.formatToParts(t);return this._isDateIncluded||(delete e.date,delete e.separator),e}}export{i as D,e as M,a as T,r as a};
