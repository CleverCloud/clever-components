import{s as e}from"./i18n-bf531c19.js";import"./cc-block-4351d64f.js";import"./cc-error-8d730ec3.js";import"./cc-tcp-redirection-afd110a6.js";import{L as r,h as t,c as o}from"./vendor-5e139a4e.js";import{d as c}from"./default-theme-fead272a.js";const i=()=>e`
    <p>
      A TCP redirection allows you to route external traffic to the <code>4040</code> port of the application via the load balancers.<br>
      You can create one TCP redirection per application for each namespace you have access to.
    </p>
    <p>
      A namespace is a group of load balancers: either the default public ones, cleverapps.io or dedicated ones if you are a Clever Cloud Premium customer.
    </p>
  `,s=[{namespace:"default",sourcePort:1234},{namespace:"cleverapps"}];class n extends r{static get properties(){return{context:{type:String},error:{type:Boolean},redirections:{type:Array}}}constructor(){super(),this.error=!1,this.context="user"}_getRedirectionCount(){if("admin"===this.context&&null!=this.redirections){const e=this.redirections.filter((({sourcePort:e})=>null!=e)).length;if(e>=1)return t`<span class=count>${e}</span>`}return""}render(){const e=null==this.redirections,r=e?s:this.redirections,o="admin"===this.context?"close":"off";return t`<cc-block state=${o}><div slot=title>TCP Redirections${this._getRedirectionCount()}</div>${"user"===this.context?t`<div class=description>${i}</div>`:""} ${!this.error&&r.length>0?t`${r.map((r=>t`<cc-tcp-redirection namespace=${r.namespace} .sourcePort=${r.sourcePort} ?skeleton=${e} ?waiting=${r.waiting} ?private=${r.private} ?error=${r.error}></cc-tcp-redirection>`))}`:""} ${this.error||0!==r.length?"":t`<div class=cc-block_empty-msg>You do not have access to any namespaces.</div>`} ${this.error?t`<cc-error>An error occured while loading TCP redirections.</cc-error>`:""}</cc-block>`}static get styles(){return[c,o`:host{display:block}.count{background-color:#3a3871;border-radius:10rem;color:#fff;font-size:.8rem;margin-left:.5rem;padding:.1rem .5rem;vertical-align:middle}.description{line-height:1.6}.description p{margin:0 0 1rem}.description code{background-color:#f3f3f3;border-radius:.25rem;font-family:var(--cc-ff-monospace);padding:.15rem .3rem}`]}}window.customElements.define("cc-tcp-redirection-form",n);export{n as CcTcpRedirectionForm};
