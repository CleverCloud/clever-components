import{L as e,d as t,h as i,a as n,s as o,c as r}from"./vendor-5e139a4e.js";import{d as s}from"./default-theme-fead272a.js";const a=new URL(new URL("assets/increment-a9125041.svg",import.meta.url).href,import.meta.url).href,l=new URL(new URL("assets/decrement-44ef7da1.svg",import.meta.url).href,import.meta.url).href;class d extends e{static get properties(){return{controls:{type:Boolean},disabled:{type:Boolean,reflect:!0},label:{type:String},max:{type:Number},min:{type:Number},name:{type:String,reflect:!0},readonly:{type:Boolean,reflect:!0},skeleton:{type:Boolean,reflect:!0},step:{type:Number},value:{type:Number},_invalid:{type:Boolean}}}constructor(){super(),this.disabled=!1,this.readonly=!1,this.skeleton=!1,this.controls=!1,this._invalid=!1,this._uniqueName=Math.random().toString(36).slice(2)}focus(){this._input.focus()}_onInput(e){this.value=e.target.valueAsNumber,t(this,"input",this.value)}_onFocus(e){this.readonly&&e.target.select()}_onKeyEvent(e){"keydown"!==e.type&&"keypress"!==e.type||e.stopPropagation(),"keydown"===e.type&&13===e.keyCode&&(e.preventDefault(),t(this,"requestimplicitsubmit")),this.readonly||"keypress"!==e.type||13!==e.keyCode||t(this,"requestimplicitsubmit")}_onDecrement(){this._input.stepDown(),this.value=this._input.valueAsNumber,t(this,"input",this.value)}_onIncrement(){this._input.stepUp(),this.value=this._input.valueAsNumber,t(this,"input",this.value)}firstUpdated(){this._input=this.shadowRoot.querySelector(".input"),this._invalid=!this._input.checkValidity()}updated(e){e.has("value")&&(this._invalid=!this._input.checkValidity()),super.update(e)}render(){const e=null!=this.value?this.value:0,t=this.controls&&!this.skeleton,o=this.value<=this.min,r=this.value>=this.max;return i`${null!=this.label?i`<label for=${this._uniqueName}>${this.label}</label>`:""}<div class=meta-input>${t?i`<button class=btn @click=${this._onDecrement} ?disabled=${this.disabled||this.readonly||o}><img class=btn-img src=${l} alt=""></button>`:""}<div class="${n({skeleton:this.skeleton})} wrapper"><input id=${this._uniqueName} type=number class="${n({error:this._invalid})} input" ?disabled=${this.disabled||this.skeleton} ?readonly=${this.readonly} min=${this.min??""} max=${this.max??""} step=${this.step??""} .value=${e} name=${this.name??""} spellcheck=false @focus=${this._onFocus} @input=${this._onInput} @keydown=${this._onKeyEvent} @keypress=${this._onKeyEvent}><div class=ring></div></div>${t?i`<button class=btn @click=${this._onIncrement} ?disabled=${this.disabled||this.readonly||r}><img class=btn-img src=${a} alt=""></button>`:""}</div>`}static get styles(){return[s,o,r`:host{display:inline-block}label{cursor:pointer;display:block;padding-bottom:.35em}.meta-input{box-sizing:border-box;display:inline-flex;overflow:visible;position:relative;vertical-align:top;width:100%}.wrapper{display:grid;flex:1 1 0;margin:.15em .5em;min-width:0;overflow:hidden}input{-webkit-appearance:none;border:1px solid #000;box-sizing:border-box;display:block;font-family:monospace;margin:0;padding:0;resize:none;width:100%;background:0 0;border:none;font-family:var(--cc-ff-monospace);font-size:.85em;grid-area:1/1/2/2;height:2em;line-height:2em;overflow:hidden;text-align:var(--cc-input-number-align,left);z-index:2}input[type=number]{-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input:active,input:focus{outline:0}input[disabled]{opacity:.75;pointer-events:none}button[disabled]{opacity:.5;pointer-events:none}.ring{background:#fff;border:1px solid #aaa;border-radius:.25em;bottom:0;box-shadow:0 0 0 0 rgba(255,255,255,0);left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:0}input:focus+.ring{border-color:#777;box-shadow:0 0 0 .2em rgba(50,115,220,.25)}input:focus.error+.ring{box-shadow:0 0 0 .2em rgba(255,0,0,.25)}input.error+.ring{border-color:#cb233d}input:hover+.ring{border-color:#777}:host([disabled]) .ring{background:#eee;border-color:#eee}:host([readonly]) .ring{background:#eee}.skeleton .ring,.skeleton input:hover+.ring,.skeleton:hover .ring{background-color:#eee;border-color:#eee;cursor:progress}.skeleton input{color:transparent}.btn{background:0 0;border:none;display:block;font-family:inherit;font-size:unset;margin:.2em;padding:0;border-radius:.15em;cursor:pointer;flex-shrink:0;height:1.6em;width:1.6em;z-index:2}.btn:focus{box-shadow:0 0 0 .2em rgba(50,115,220,.25);outline:0}.btn:active,.btn:hover{box-shadow:none;outline:0}.btn:hover{background-color:#f5f5f5}.btn:active{background-color:#eee}:host([readonly]) .btn:hover{background-color:#e5e5e5}:host([readonly]) .btn:active{background-color:#ddd}.btn::-moz-focus-inner{border:0}.btn-img{box-sizing:border-box;filter:grayscale(100%);height:100%;padding:15%;width:100%}.btn-img:hover{filter:grayscale(0)}`]}}window.customElements.define("cc-input-number",d);export{d as CcInputNumber};
