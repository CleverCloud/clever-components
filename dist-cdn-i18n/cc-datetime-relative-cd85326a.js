import{f as t,p as e}from"./i18n-date-d99182e3.js";import{p as i}from"./i18n-string-3f556d8d.js";const n="fr",s=i(n),a={year:"année",month:"mois",week:"semaine",day:"jour",hour:"heure",minute:"minute",second:"seconde"},r=e(n,((t,e)=>{const i=a[e];return`il y a ${t} ${i.endsWith("s")?s(t,i,i):s(t,i)}`}),"à l'instant"),d=[];let l;function o(){d.forEach((t=>t._triggerUpdate()))}class c extends HTMLElement{static get observedAttributes(){return["datetime"]}constructor(){super(),this.datetime=null}get datetime(){return this.getAttribute("datetime")}set datetime(t){null!=t&&this.setAttribute("datetime",t)}attributeChangedCallback(e,i,s){"datetime"===e&&(this.title=(({date:e})=>t(n,e))({date:s}),this._triggerUpdate())}connectedCallback(){d.push(this),null==l&&(o(),l=setInterval(o,1e4))}disconnectedCallback(){const t=d.indexOf(this);-1!==t&&d.splice(t,1),d.length>0&&null!=l&&(clearInterval(l),l=null)}_triggerUpdate(){const t=(({date:t})=>r(t))({date:this.getAttribute("datetime")});this.textContent!==t&&(this.textContent=t)}}window.customElements.define("cc-datetime-relative",c);export{c as CcDatetimeRelative};
