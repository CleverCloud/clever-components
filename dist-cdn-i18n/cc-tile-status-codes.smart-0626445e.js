import{L as e,u as r}from"./cc-smart-container-0c093be7.js";import"./cc-tile-status-codes-741a4a06.js";import{c as s,s as o,O as a,T as n}from"./send-to-api-d26c0c41.js";import{d as t}from"./smart-manager-10eab692.js";function i(e,...r){return[e,...r.filter((e=>null!=e)).map((e=>e.slice(0,10)))].join("__")}function c(e){return Promise.resolve({method:"get",url:`/v2/w10tokens/accessLogs/read/${e.orgaId}`,headers:{Accept:"application/json"}})}t({selector:"cc-tile-status-codes",params:{apiConfig:{type:Object},ownerId:{type:String},appId:{type:String,required:!1}},onConnect(t,p,d,u){const l=new e;r(u,[l.error$.subscribe(console.error),l.error$.subscribe((()=>p.error=!0)),l.value$.subscribe((e=>p.statusCodes=e)),d.subscribe((({apiConfig:e,ownerId:r,appId:t})=>{p.error=!1,p.statusCodes=null,null!=e&&null!=r&&l.push((p=>async function({apiConfig:e,signal:r,ownerId:t,appId:p}){return function({warpToken:e,ownerId:r,appId:s}){const[o,a]=function(e,r){return null!=r?["app_id",r]:["owner_id",e]}(r,s),n=`'${e}' '${o}' '${a}' NOW 24 h @clevercloud/accessLogs_status_code_v1`;return Promise.resolve({method:"post",url:"/api/v0/exec",body:n,queryParams:{__:i("statuscodes",r,s)},responseHandler:([e])=>(delete e[-1],e)})}({warpToken:await c({orgaId:t}).then(o({apiConfig:e,signal:r,cacheDelay:a})),ownerId:t,appId:p}).then(s({apiConfig:e,signal:r,timeout:n}))}({apiConfig:e,signal:p,ownerId:r,appId:t})))}))])}});
