import"./cc-jenkins-info-d54c3743.js";import"./cc-smart-container-f668ab58.js";import{d as n}from"./request.fetch-17efde15.js";import{s as e}from"./send-to-api-3f46dae0.js";function o(n){return Promise.resolve({method:"get",url:`/v4/addon-providers/jenkins/addons/${n.addonId}/updates`,headers:{Accept:"application/json"}})}function i(n){return Promise.resolve({method:"get",url:`/v4/addon-providers/${n.providerId}/addons/${n.addonId}`,headers:{Accept:"application/json"}})}n({selector:"cc-jenkins-info",params:{apiConfig:{type:Object},addonId:{type:String}},onContextUpdate({component:n,context:a,updateComponent:s,signal:t}){const{apiConfig:d,addonId:r}=a;s("state",{type:"loading"}),function({apiConfig:n,signal:a,addonId:s}){return Promise.all([i({providerId:"jenkins",addonId:s}).then(e({apiConfig:n,signal:a})),o({addonId:s}).then(e({apiConfig:n,signal:a}))]).then((([n,e])=>({jenkinsLink:`https://${n.host}`,jenkinsManageLink:e.manageLink,versions:e.versions})))}({apiConfig:d,signal:t,addonId:r}).then((n=>{s("state",{type:"loaded",jenkinsLink:n.jenkinsLink,jenkinsManageLink:n.jenkinsManageLink,versions:n.versions})})).catch((n=>{console.error(n),s("state",{type:"error"})}))}});
